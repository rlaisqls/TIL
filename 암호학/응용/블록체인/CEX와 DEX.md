
암호화폐 거래소는 디지털 자산을 거래할 수 있는 플랫폼으로, 중앙화 거래소(CEX, Centralized Exchange)와 탈중앙화 거래소(DEX, Decentralized Exchange)로 나뉜다. CEX는 기업이 운영하며 사용자의 자산을 보관하지만, DEX는 스마트 컨트랙트를 통해 사용자가 직접 자산을 관리하며 P2P로 거래한다.

### 유동성과 슬리피지

거래소를 이해하려면 유동성과 슬리피지 개념을 먼저 알아야 한다.

유동성(Liquidity)은 시장에서 자산을 얼마나 쉽게 사고팔 수 있는지를 나타낸다. 유동성이 높다는 것은 원하는 가격에 즉시 거래할 수 있다는 뜻이고, 유동성이 낮으면 거래 상대방을 찾기 어렵거나 불리한 가격으로 거래해야 한다.

- 호가창에 매수/매도 주문이 빽빽하게 쌓여있으면 유동성이 높다. 예를 들어 비트코인을 5만 달러에 팔려는데, 5만 달러에 사겠다는 주문이 100 BTC 있으면 즉시 거래된다.
- 반대로 마이너 토큰은 매수 호가가 100달러인데 매도 호가가 110달러처럼 큰 차이(스프레드)가 난다. 이게 유동성이 낮은 상태다.
- DEX의 AMM 방식에서는 유동성 풀에 토큰이 많이 쌓여있을수록 유동성이 높다. ETH/USDT 풀에 1000 ETH와 300만 USDT가 있으면 유동성이 높지만, 10 ETH와 3만 USDT만 있으면 유동성이 낮다.

슬리피지(Slippage)는 예상한 가격과 실제 체결된 가격의 차이다. 1 ETH를 3000 USDT에 팔려고 했는데 실제로는 2950 USDT에 팔렸다면 50 USDT(약 1.67%)의 슬리피지가 발생한 것이다.

슬리피지가 생기는 이유:

- 유동성 부족: 호가창이나 풀에 원하는 가격대의 주문이 충분하지 않으면 더 불리한 가격으로 체결된다. 10 ETH를 팔려는데 3000달러 호가에는 5 ETH 매수 주문밖에 없으면, 나머지 5 ETH는 2990달러나 2980달러에 팔려야 한다.
- 거래 규모: AMM 방식에서는 `x * y = k` 공식 때문에 큰 거래일수록 풀의 토큰 비율을 크게 바꿔서 슬리피지가 기하급수적으로 커진다. 100달러 거래는 0.1% 슬리피지지만 10만 달러 거래는 5%가 날 수도 있다.
- 시장 변동: 주문 제출과 체결 사이에 가격이 바뀔 수 있다. 특히 DEX는 블록 컨펌을 기다리는 동안 가격이 움직인다.

DEX에서는 슬리피지 허용 범위를 설정한다. "최대 1% 슬리피지 허용"으로 하면 그 이상 불리한 가격에서는 거래가 취소된다. 너무 낮게 설정하면 거래가 자꾸 실패하고, 너무 높게 설정하면 손해를 본다.

CEX는 유동성이 높고 즉시 체결되어서 슬리피지가 거의 없다. 대형 코인은 0.01% 이하다. 하지만 DEX, 특히 마이너 토큰은 유동성이 부족해서 몇 퍼센트씩 슬리피지가 날 수 있다.

### CEX (중앙화 거래소)

중앙화 거래소는 전통적인 증권거래소와 유사한 구조로 작동한다.

- 거래소가 사용자의 자산을 보관하고 주문을 매칭하며, 거래소 내부 데이터베이스에서 거래를 기록한다.
- 실제 블록체인 트랜잭션은 입출금 시에만 발생하기 때문에 밀리초 단위의 빠른 거래가 가능하다.

대부분의 CEX는 법적 규제를 준수하기 위해 KYC(신원 인증)와 AML(자금세탁 방지) 절차를 요구한다.

- 실명 인증과 신분증 제출이 필요하지만, 그 대신 은행 계좌를 연동하여 원화나 달러로 직접 암호화폐를 구매할 수 있다. 계정 복구나 비밀번호 찾기 같은 고객 지원도 제공된다.

높은 유동성이 CEX의 가장 큰 장점이다. 많은 사용자가 모여 있어 대량 거래도 빠르게 체결되고 슬리피지가 적다.

하지만 개인 키를 소유하지 않으면 진정한 자산 소유가 아니므로,("Not your keys, not your coins"라는 격언이 있다고 한다.) 대형 거래소가 해킹당하거나 파산하면서 사용자들이 자산을 잃을 수 있다. 정부 규제로 갑자기 출금이 중단되거나 계정이 동결될 수도 있고, 내부 직원의 부정행위나 가격 조작 가능성도 존재한다. KYC로 인해 익명성이 보장되지 않으며, 데이터 유출 시 개인정보가 노출될 위험도 있다.

주요 CEX로는 세계 최대 거래량을 자랑하는 Binance, 나스닥 상장 기업이자 미국 최대 거래소인 Coinbase, 한국에서 원화 거래를 지원하는 Upbit, 2011년부터 운영된 Kraken, 선물 거래에 강점을 가진 OKX 등이 있다.

### DEX (탈중앙화 거래소)

탈중앙화 거래소는 스마트 컨트랙트를 통해 중개자 없이 사용자 간 직접 거래한다.

- 사용자는 메타마스크나 트러스트월렛 같은 개인 지갑을 연결하여 자산의 완전한 통제권을 유지한다.
- KYC 절차 없이 지갑만 연결하면 되고, 지역이나 국가에 관계없이 누구나 접근할 수 있다.

- 모든 거래가 블록체인에 기록되어 투명하게 검증할 수 있고, 스마트 컨트랙트 코드도 공개되어 있어 감사가 가능하다. 중앙 기관이 거래를 차단하거나 계정을 동결할 수 없으며, 정부의 통제도 받지 않는다. CEX의 까다로운 상장 절차가 없어서 신규 프로젝트가 쉽게 토큰을 발행하고 거래할 수 있다.

- 반면 CEX에 비해 유동성이 낮아서 슬리피지가 클 수 있고, 특히 마이너 토큰은 유동성이 매우 부족하다.
  - 블록체인 컨펌을 기다려야 하므로 거래 속도가 느리고, 이더리움처럼 가스비가 비싼 네트워크에서는 소액 거래 시 수수료가 거래 금액을 초과하기도 한다.
  - 지갑 관리나 가스 설정 같은 기술적 지식이 필요하고, 잘못된 주소로 전송하거나 개인 키를 분실하면 복구가 불가능하다. 스마트 컨트랙트 버그로 인한 해킹이나 러그풀(개발자가 유동성을 빼가는 사기) 위험도 있으며, 문제 발생 시 도움받을 곳이 없다.

DEX는 크게 AMM, Order Book, Aggregator 방식으로 나뉜다.

- AMM(Automated Market Maker): 유동성 풀과 수학 공식으로 자동 가격 결정을 한다. 유동성 공급자(LP)가 토큰 쌍을 예치하면 풀이 형성되고, `x * y = k` 공식으로 가격이 조정된다. LP는 거래 수수료(보통 0.3%)를 받지만 비영구적 손실(Impermanent Loss) 위험이 있다. 대표적으로 Uniswap이 있으며, V2는 기본 AMM을 사용하고 V3는 집중 유동성을 도입했다. 바이낸스 스마트 체인에는 낮은 가스비의 PancakeSwap이 있고, Curve Finance는 스테이블코인 교환에 최적화되어 슬리피지가 매우 낮다.

- Order Book: 전통적인 거래소처럼 매수/매도 주문을 매칭한다. 호가창으로 시장 깊이를 확인할 수 있고 가격 발견이 정확하지만, 온체인 주문 처리는 가스비가 많이 들어서 Layer 2나 오프체인 솔루션을 사용한다. dYdX는 Layer 2(StarkEx)로 빠른 거래와 낮은 수수료를 제공하며 최대 20배 레버리지 거래가 가능하다. Serum은 솔라나 블록체인에서 중앙 주문장부를 사용한다.

- Aggregator: 여러 DEX를 비교하여 최적의 거래 경로를 찾는다. 스마트 라우팅으로 여러 풀을 거쳐 거래하거나 대량 거래를 분할하여 슬리피지를 최소화한다. 1inch가 가장 유명하며 다중 체인과 가스 최적화를 지원한다. Matcha는 0x 프로토콜 기반으로 사용자 친화적인 인터페이스를 제공한다.

실제로는 많은 사용자가 CEX와 DEX를 모두 활용한다. CEX에서 법정화폐로 암호화폐를 구매하고, 개인 지갑으로 출금하여 자산을 보호한 뒤, DEX에서 신규 토큰을 거래하거나 DeFi 프로토콜을 사용한다. 대량 거래나 현금화가 필요할 때는 다시 CEX를 활용하는 식이다. 이렇게 각 플랫폼의 장점을 활용하고 단점을 보완할 수 있다.

---

참고

- <https://ethereum.org/en/defi/>
- <https://www.coinbase.com/learn/crypto-basics/what-is-a-dex>
- <https://uniswap.org/whitepaper.pdf>
- <https://chain.link/education-hub/what-is-an-automated-market-maker-amm>
- <https://www.investopedia.com/tech/what-are-centralized-cryptocurrency-exchanges/>
- <https://academy.binance.com/en/articles/what-is-a-decentralized-exchange-dex>
