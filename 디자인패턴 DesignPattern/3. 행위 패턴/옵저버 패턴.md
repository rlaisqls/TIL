# ğŸ—º ì˜µì €ë²„(Observer) íŒ¨í„´

ì˜µì„œë²„ íŒ¨í„´ì€ ê°ì²´ì˜ ìƒíƒœ ë³€í™”ë¥¼ ê´€ì°°í•˜ëŠ” ê´€ì°°ìë“¤ì„ ìƒì„±í•˜ì—¬, ì¦‰ ì˜µì €ë²„ë“¤ì˜ ëª©ë¡ì„ ê°ì²´ì— ë“±ë¡í•˜ì—¬ ìƒíƒœ ë³€í™”ê°€ ìˆì„ ë•Œë§ˆë‹¤ ë©”ì„œë“œ ë“±ì„ í†µí•´ ê°ì²´ê°€ ì§ì ‘ ëª©ë¡ì˜ ê° ì˜µì €ë²„ì—ê²Œ í†µì§€í•˜ë„ë¡ í•˜ëŠ” íŒ¨í„´ì´ë‹¤. ì˜µì €ë²„ íŒ¨í„´ì„ í™œìš©í•˜ë©´ ë‹¤ë¥¸ ê°ì²´ì˜ ìƒíƒœ ë³€í™”ë¥¼ ë³„ë„ì˜ í•¨ìˆ˜ í˜¸ì¶œ ì—†ì´ ì¦‰ê°ì ìœ¼ë¡œ ì•Œ ìˆ˜ ìˆê¸° ë•Œë¬¸ì—, ì´ë²¤íŠ¸ë¥¼ ìì£¼ ì²˜ë¦¬í•´ì•¼í•˜ëŠ” í”„ë¡œê·¸ë¨ì—ì„œ ì í•©í•˜ë‹¤.

<img src="https://1.bp.blogspot.com/-WCHfqra68yc/XaHO8FaJMNI/AAAAAAAACMI/SJvomnvQgSgYdLGJ8DM7pMTQhc5uS_s1ACLcBGAsYHQ/s1600/%25EC%2598%25B5%25EC%25A0%2580%25EB%25B2%2584%25ED%258C%25A8%25ED%2584%25B4.PNG">

---

## ì˜ˆì‹œ ì½”ë“œ

```java
public interface Publisher<V> {
    void add(Observer<V> observer);
    void delete(Observer<V> observer);
    void notifyObserver(V message);
}

public class NewsPublisher implements Publisher<String>{

    private final ArrayList<Observer<String>> observers = new ArrayList<>();

    @Override
    public void add(Observer<String> observer) {
        observers.add( observer);
    }

    @Override
    public void delete(Observer<String> observer) {
        observers.remove(observer);
    }

    @Override
    public void notifyObserver(String message) {
        for(Observer<String> observer : observers) {
            observer.update(message);
        }
    }

}
```

ë‰´ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” NewsPublisher í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì—ˆë‹¤. ìœ„ì˜ ì‚¬ì§„ì—ì„œì˜ Subjectì— í•´ë‹¹í•œë‹¤. 

PublisherëŠ” êµ¬ë…ì¤‘ì¸ ê°ì‹œì(observer)ë“¤ì˜ ë¦¬ìŠ¤íŠ¸ë¥¼ ì €ì¥í•´ë†“ê³ , ë©”ì„¸ì§€ê°€ ë³€ê²½ëœ ê²½ìš° notifyObserver()ë¡œ ë©”ì„¸ì§€ë¥¼ observerë“¤ì—ê²Œ ì•Œë¦°ë‹¤.

Publisher ì¸í„°í˜ì´ìŠ¤ê°€ Stringì´ ì•„ë‹Œ ë‹¤ë¥¸ í´ë˜ìŠ¤ì˜ ë°ì´í„°ë¥¼ ì „ì†¡í•˜ëŠ” ê²½ìš°ì—ë„ ì‚¬ìš©ë  ìˆ˜ ìˆë„ë¡ í•˜ê¸° ìœ„í•´ ì œë„¤ë¦­ì„ ì‚¬ìš©í–ˆë‹¤.

---

```java
public interface Observer<V> {
    void update(V content);
}

public class NewsObserver implements Observer<String> {

    private Publisher<String> publisher;

    public NewsObserver(Publisher<String> publisher) {
        this.publisher = publisher;
        publisher.add(this);
    }

    @Override
    public void update(String message) {
        display(message);
    }

    public void withdraw() {
        publisher.delete(this);
    }

    public void display(String message) {
        System.out.println("ë‰´ìŠ¤");
        System.out.println("->" + message);
    }
}
```

Observerë¥¼ ìƒì†ë°›ì€ NewsObserver í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì—ˆë‹¤. publisherì—ì„œ ì´ë²¤íŠ¸ê°€ ìƒê¸°ë©´ update()ê°€ í˜¸ì¶œë˜ê³ , NewsObserverëŠ” ì´ë²¤íŠ¸ ë©”ì„¸ì§€ë¥¼ ë°›ì•„ ì½˜ì†”ì— ì¶œë ¥í•œë‹¤.

---

```java
public class App {

    public static void main(String[] args) {

        NewsPublisher newsPublisher = new NewsPublisher();
        NewsObserver newsObserver = new NewsObserver(newsPublisher);

        newsPublisher.notifyObserver("[ì†ë³´] í°ì¼ë‚¨");

        newsObserver.withdraw();

        newsPublisher.notifyObserver("[ì†ë³´] ì™„ì „ í°ì¼ë‚¨");
    }
}
```

```java
//ì‹¤í–‰ ê²°ê³¼
ë‰´ìŠ¤
->[ì†ë³´] í°ì¼ë‚¨
```

ìœ„ì™€ ê°™ì€ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ newsPublisherì˜ ì´ë²¤íŠ¸ë¥¼ newsObserverê°€ ë°›ì•„ì„œ ì˜ ì¶œë ¥ë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. withdraw()ë¥¼ í˜¸ì¶œí•˜ë©´ observersì—ì„œ newsObserverê°€ ì‚­ì œë˜ê¸° ë•Œë¬¸ì— ë”ì´ìƒ ì´ë²¤íŠ¸ì— ë°˜ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤.

ì´ <a href="https://github.com/rlaisqls/GoF-DesignPatterns/tree/master/src/main/java/com/study/gof/designpattrens/_03_BehavioralPattern/observer">ë§í¬</a>ë¡œ ê°€ë©´ ì½”ë“œë¥¼ ë³¼ ìˆ˜ ìˆë‹¤.