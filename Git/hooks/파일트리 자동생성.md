# ğŸŒ³ íŒŒì¼íŠ¸ë¦¬ ìë™ìƒì„±

ë ˆí¬ í´ë”ì— `.git/hook/pre-commit` íŒŒì¼ì„ ìƒì„±í•˜ì—¬ ì•„ë˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë„£ìœ¼ë©´ ì»¤ë°‹ì‹œì— README.md íŒŒì¼ì— íŠ¸ë¦¬ê°€ ìë™ìœ¼ë¡œ ìƒì„±ëœë‹¤. (mac ê¸°ì¤€)

```bash
#!/bin/bash

export LANG=UTF-8

function generate_project_tree() {

  tree /Users/rlaisqls/Documents/github/TIL -tf --noreport -I '~' --charset ascii $1 |
    gsed -e 's/[|]-\+/â•Šâ”/g' |
    gsed -e 's/[|]/â”ƒ/g' |
    gsed -e 's/[`]/â”—â”/g' |
    gsed -e 's/[-]/â”/g' |
    gsed -e 's:\(â” \)\(\(.*/\)\([^/]\+\)\):\1[\4](\2):g' |
    gsed -e 's/)/)<\/br>/g' |
    gsed -e 's=/Users/rlaisqls/Documents/github/TIL/=./=g' |
    gsed -e 's=/Users/rlaisqls/Documents/github/TIL=./TIL</br>=g' |
    gsed -e 's/â”â”â”/â”/g' |
    gsed -e 's/[ ]/ã€€/g' 
}

function generate_readme() {
  readme="/Users/rlaisqls/Documents/github/TIL/README.md"
  readme_template="/Users/rlaisqls/Documents/github/TIL/.git/hooks/readme_template.md"

  perl -p0e 's/__PROJECT_TREE__/`cat`/se' "$readme_template" > "$readme"
}


cd "$(dirname "$0")" || exit 1
generate_project_tree . | generate_readme .

cd /Users/rlaisqls/Documents/github/TIL 
git add /Users/rlaisqls/Documents/github/TIL/README.md
git commit --amend -C HEAD --no-verify

```

`.git/hook/readme-template.md`ë„ ë§Œë“¤ì–´ì¤€ë‹¤. `__PROJECT_TREE__`ë¥¼ ì œì™¸í•œ ë‚˜ë¨¸ì§€ë¶€ë¶„ì€ ê¾¸ë¯¸ê³  ì‹¶ì€ëŒ€ë¡œ ë°”ê¿”ë„ ëœë‹¤. 


```
ë ˆí¬ì§€í† ë¦¬ íŒŒì¼íŠ¸ë¦¬

__PROJECT_TREE__
```

---

+ ìœ„ ëª…ë ¹ì–´ëŒ€ë¡œ í–ˆì„ë•Œ ë­”ê°€ ì •ë ¬ì´ ì´ìƒí•˜ë‹¤ ì‹¶ì—ˆëŠ”ë°, tree ì˜µì…˜ ë¬¸ì œì˜€ë‹¤.

ë§ˆì§€ë§‰ ìˆ˜ì • ì‹œê°„ë³„ë¡œ íŒŒì¼ì„ ì •ë ¬í•˜ëŠ” `-t` ì˜µì…˜ì„ ì—†ì• ê³ , íŒŒì¼ë³´ë‹¤ ë””ë ‰í† ë¦¬ê°€ ë” ìœ„ë¡œ ì˜¤ë„ë¡ í•˜ëŠ” `--dirsfirst`ë¥¼ ì‚¬ìš©í•˜ë©´ ë”± ì˜ˆì˜ê²Œ ì •ë ¬í•  ìˆ˜ ìˆë‹¤.

```bash
#!/bin/bash

export LANG=UTF-8

function generate_project_tree() {

  tree /Users/rlaisqls/Documents/github/TIL -f --dirsfirst --noreport -I '~' --charset ascii $1 |
    gsed -e 's/[|]-\+/â•Šâ”/g' |
    gsed -e 's/[|]/â”ƒ/g' |
    gsed -e 's/[`]/â”—â”/g' |
    gsed -e 's/[-]/â”/g' |
    gsed -e 's:\(â” \)\(\(.*/\)\([^/]\+\)\):\1[\4](\2):g' |
    gsed -e 's/)/)<\/br>/g' |
    gsed -e 's=/Users/rlaisqls/Documents/github/TIL/=./=g' |
    gsed -e 's=/Users/rlaisqls/Documents/github/TIL=./TIL</br>=g' |
    gsed -e 's/â”â”â”/â”/g' |
    gsed -e 's/[ ]/ã€€/g' 
}

function generate_readme() {
  readme="/Users/rlaisqls/Documents/github/TIL/README.md"
  readme_template="/Users/rlaisqls/Documents/github/TIL/.git/hooks/readme_template.md"

  perl -p0e 's/__PROJECT_TREE__/`cat`/se' "$readme_template" > "$readme"
}


cd "$(dirname "$0")" || exit 1
generate_project_tree . | generate_readme .
```