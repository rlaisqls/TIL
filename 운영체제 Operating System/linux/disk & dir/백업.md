# 백업

- Day-zero Backup: 시스템을 설치한 후 사용자들이 시스템을 사용하기 전에 시스템을 백업하는 것
- Full Backup: 주기적으로 시스템을 백업하는 것
- Incremental Backup: 특정한 이벤트 후 또는 주기적으로 이전의 백업 후 변경된 파일들만 백업 하는 것
- 단순 백업: 첫 백업 때 풀 백업을 진행한 후, 그 다음부터 변경분 백업을 수행하는 것
- 다단계 백업(Multilevel Backup): 큰 규모나 중요한 시스템의 백업을 할 때 수행하는 것

### 디렉터리 단위 백업 명령어

- `tar`
  - 마운트된 파일시스템 내에서 백업
  - [-g]: 증분 백업을 위한 옵션
  
- `cpio`
  - 많은 양의 데이터를 테이프 드라이브에 백업하기 위한 명령어
  - 네트워크를 통한 백업 / 증분 백업을 지원하지 않는다.
  - 주요 옵션
    - [-c]: ASCII 형태로 헤더 정보를 읽고 쓴다.
    - [-i]: 아카이브에서 파일 추출
    - [-o]: 아카이브 생성
    - [-v]: 진행 과정을 자세하게 출력
    - `ls *.conf | cpio -ocv > config.bak` → 모든 .conf 파일을 백업

### 파일시스템 단위 백업 명령어

- `dump`
  - 파일 시스템 전체를 백업하는 명령어
  - 점진적인 백업 기능: 이전 백업 이후 변경된 파일들에 대해 백업 수행 가능
  - 장점
    - 여러 개의 테이프에 백업 가능
    - 어떤 타입의 파일도 백업 가능
    - 증분 백업 가능
    - 결함을 가진 파일들도 다룰 수 있음
  - 단점
    - 모든 파일 시스템이 개별적으로 dump 되어야 함 (각 파티션도 개별적으로 dump)
    - NFS 파일 시스템을 dump할 수 없다. (로컬 파일 시스템만 dump 가능)
  - 주요 옵션
    - [-0~9]:0– 전체 백업 /1,2,...- 부분 백업 - [-f]: 지정한 파일명으로 백업 파일 생성
  
- `restore`
  - dump 복구를 위한 명령어
  - 주요 옵션
  - [-i]: 대화형으로 복원 수행 -[-f]: 장치 이름 지정
  - [-r]: 백업 대상 전체를 복원


### 디스크 단위의 백업
- `dd`
  - 잘 사용되지 않는다.
  
### 파일 동기화

- `rsync`
  - 파일을 동기화하는 명령어. 원격지에 있는 파일들도 동기화할 수 있다.
  - cp, ftp, rcp 명령어보다 동기화 기능이 뛰어남
  - `rsync [옵션] [동기화할 원본] [동기화될 위치]`
      - [-a]: 아카이브 모드 (여러 옵션을 묶어 놓은 옵션)
      - [-v]: 진행 과정을 자세하게 출력
      - [-z]: 동기화 파일을 압축