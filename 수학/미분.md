- 미분은 함수의 순간 변화율을 극한 개념을 통해 정의한다.
- 함수 f(x)의 도함수 f'(x)는 다음과 같이 정의된다:

    ```
    f'(x) = lim[h→0] (f(x+h) - f(x)) / h
    or
    f'(x) = lim[Δx→0] (f(x+Δx) - f(x)) / Δx
    ```

  - h 또는 Δx: x의 순간변화율(미소변화량)
  - f(x+h) - f(x): 함수값의 변화량
  - 분수 전체: 평균 변화율
  - 극한: h가 0에 가까워질 때의 순간 변화율

- Leibniz 표기법
  - dy/dx: y변화량/x변화량
  - dy와 dx를 각각 따로 떼어낼 수 없다.

        ```
        dy/dx = lim[Δx→0] Δy/Δx  # 극한값 (하나의 수)
        ≠ dy ÷ dx                # 두 값의 나눗셈 (아님!)
        ```

  - d/dx: x에 대해 미분하라는 기호
  - 마치 sin, log, lim처럼 통째로 하나의 수학 기호로 봐야 한다.
  - 어떤 변수에 대해 미분하는지 명확하다는 장점이 있다

        ```
        dy/dx  # y를 x에 대해 미분
        dy/dt  # y를 t에 대해 미분
        ∂z/∂x  # z를 x에 대해 편미분
        ```

- 극한의 정의로부터 다음 법칙들이 유도된다
  - 상수배 법칙: d/dx[c·f(x)] = c·f'(x)
  - 합의 법칙: d/dx[f(x) + g(x)] = f'(x) + g'(x)
  - 곱의 법칙: d/dx[f(x)·g(x)] = f'(x)·g(x) + f(x)·g'(x)
  - 몫의 법칙: d/dx[f(x)/g(x)] = (f'(x)·g(x) - f(x)·g'(x)) / [g(x)]²
  - 연쇄 법칙: d/dx[f(g(x))] = f'(g(x)) · g'(x)

### 기본 예시

1. 상수 함수의 미분

    ```
    f(x) = c (상수)
    f'(x) = lim[h→0] (c - c) / h = lim[h→0] 0 / h = 0
    ```

    따라서 **d/dx[c] = 0**

2. 거듭제곱 법칙: f(x) = xⁿ

    ```
    f'(x) = lim[h→0] ((x+h)ⁿ - xⁿ) / h

    # 이항정리를 적용하면:
    (x+h)ⁿ = xⁿ + nxⁿ⁻¹h + (n(n-1)/2)xⁿ⁻²h² + ⋯ + hⁿ

    f'(x) = lim[h→0] (nxⁿ⁻¹h + (n(n-1)/2)xⁿ⁻²h² + ⋯ + hⁿ) / h

        = lim[h→0] (nxⁿ⁻¹ + (n(n-1)/2)xⁿ⁻²h + ⋯ + hⁿ⁻¹)

        = nxⁿ⁻¹
    ```

    따라서 **d/dx[xⁿ] = nxⁿ⁻¹**

3. 지수 함수: f(x) = eˣ

    ```
    f'(x) = lim[h→0] (eˣ⁺ʰ - eˣ) / h

        = lim[h→0] (eˣ · eʰ - eˣ) / h

        = eˣ · lim[h→0] (eʰ - 1) / h

    # lim[h→0] (eʰ - 1) / h = 1 이므로:
    f'(x) = eˣ
    ```

    따라서 **d/dx[eˣ] = eˣ**

4. 자연로그 함수: f(x) = ln(x)

    ```
    f'(x) = lim[h→0] (ln(x+h) - ln(x)) / h

        = lim[h→0] ln((x+h)/x) / h

        = lim[h→0] ln(1 + h/x) / h

        = lim[h→0] (1/x) · (ln(1 + h/x)) / (h/x)

    # lim[u→0] ln(1+u) / u = 1 을 이용하면:
    f'(x) = 1/x
    ```

    따라서 **d/dx[ln(x)] = 1/x**

5. 삼각함수: f(x) = sin(x)

    ```
    f'(x) = lim[h→0] (sin(x+h) - sin(x)) / h

    # 삼각함수 덧셈 공식을 적용:
    = lim[h→0] (sin(x)cos(h) + cos(x)sin(h) - sin(x)) / h
    = lim[h→0] (sin(x) · (cos(h) - 1) / h + cos(x) · sin(h) / h)

    # lim[h→0] sin(h) / h = 1, lim[h→0] (cos(h) - 1) / h = 0 이므로:
    f'(x) = cos(x)
    ```

    따라서 **d/dx[sin(x)] = cos(x)**

6. 삼각함수: f(x) = cos(x)

    ```
    # 유사한 방식으로
    f'(x) = lim[h→0] (cos(x+h) - cos(x)) / h = -sin(x)
    ```

    따라서 **d/dx[cos(x)] = -sin(x)**

## 합성함수의 미분법 (연쇄 법칙, Chain Rule)

- 합성함수 f(g(x))의 도함수는 바깥 함수의 도함수와 안쪽 함수의 도함수의 곱으로 표현된다.
  - 연쇄 법칙: d/dx[f(g(x))] = f'(g(x)) · g'(x)
  - Leibniz 표기: dy/dx = (dy/du) · (du/dx)

- 극한을 통한 유도

    ```
    y = f(u), u = g(x)일 때, y = f(g(x))

    dy/dx = lim[Δx→0] Δy/Δx
        = lim[Δx→0] (Δy/Δu) · (Δu/Δx)
        = lim[Δu→0] (Δy/Δu) · lim[Δx→0] (Δu/Δx)
        = dy/du · du/dx
        = f'(u) · g'(x)
        = f'(g(x)) · g'(x)
    ```

- 적용 단계
    1. 바깥 함수 f와 안쪽 함수 g를 구분한다.
    2. 바깥 함수를 안쪽 함수에 대해 미분한다: f'(g(x))
    3. 안쪽 함수를 x에 대해 미분한다: g'(x)
    4. 두 결과를 곱한다: f'(g(x)) · g'(x)

예시

1. 기본 예제: (x² + 1)³

    ```
    f(u) = u³, u = g(x) = x² + 1

    f'(u) = 3u²
    g'(x) = 2x

    d/dx[(x² + 1)³] = 3(x² + 1)² · 2x = 6x(x² + 1)²
    ```

2. 삼각함수 합성: sin(3x)

    ```
    f(u) = sin(u), u = g(x) = 3x

    f'(u) = cos(u)
    g'(x) = 3

    d/dx[sin(3x)] = cos(3x) · 3 = 3cos(3x)
    ```

3. 지수 함수 합성: e^(x² + 2x)

    ```
    f(u) = eᵘ, u = g(x) = x² + 2x

    f'(u) = eᵘ
    g'(x) = 2x + 2

    d/dx[e^(x² + 2x)] = e^(x² + 2x) · (2x + 2)
    ```

4. 로그 함수 합성: ln(x² + 1)

    ```
    f(u) = ln(u), u = g(x) = x² + 1

    f'(u) = 1/u
    g'(x) = 2x

    d/dx[ln(x² + 1)] = 1/(x² + 1) · 2x = 2x/(x² + 1)
    ```

5. 다중 합성: sin²(3x) = (sin(3x))²

    ```
    # 바깥부터: f(u) = u², u = sin(v), v = 3x

    d/dx[sin²(3x)] = 2sin(3x) · d/dx[sin(3x)]
                   = 2sin(3x) · cos(3x) · 3
                   = 6sin(3x)cos(3x)
                   = 3sin(6x)  # 배각 공식 이용
    ```

6. 복잡한 합성: (cos(x²))³

    ```
    f(u) = u³, u = cos(v), v = x²

    d/dx[(cos(x²))³] = 3(cos(x²))² · d/dx[cos(x²)]
                     = 3(cos(x²))² · (-sin(x²)) · 2x
                     = -6x·sin(x²)·cos²(x²)
    ```

## 음함수의 미분법 (암시적 미분)

- 암묵적 미분은 함수가 f(x, y) = 0 형태의 방정식으로 표현되어 있어 y를 x에 대해 명시적으로 나타내기 어려울 때 사용하는 미분 방법이다.
  - 예시: 음함수, `x²+y²=25` (원의 방정식)

- y를 x의 함수로 간주하고 연쇄 법칙(Chain Rule)을 적용한다.
  - y에 대한 미분 시 항상 dy/dx를 곱한다.
  - 미분 후 dy/dx에 대해 정리하여 도함수를 구한다.

- 단계
  1. 방정식의 양변을 x에 대해 미분한다.
  2. y를 x의 함수로 간주하여 연쇄 법칙을 적용한다.
  3. dy/dx를 포함한 항들을 한쪽으로 모은다.
  4. dy/dx에 대해 정리한다.

- 예시 1. 원의 방정식

    ```
    x² + y² = 25

    양변을 x에 대해 미분:
    2x + 2y·(dy/dx) = 0

    dy/dx에 대해 정리:
    2y·(dy/dx) = -2x
    dy/dx = -x/y
    ```

  - y²를 미분할 때 연쇄 법칙에 의해 2y·dy/dx가 된다.
  - 결과적으로 기울기는 -x/y로 표현되며, 이는 x와 y 모두에 의존한다.

- 예제 2. 복잡한 암묵적 함수

    ```
    x³ + y³ = 6xy

    양변을 x에 대해 미분:
    3x² + 3y²·(dy/dx) = 6y + 6x·(dy/dx)

    dy/dx 항을 한쪽으로 모음:
    3y²·(dy/dx) - 6x·(dy/dx) = 6y - 3x²

    dy/dx로 인수분해:
    (3y² - 6x)·(dy/dx) = 6y - 3x²

    dy/dx에 대해 정리:
    dy/dx = (6y - 3x²)/(3y² - 6x)
    dy/dx = (2y - x²)/(y² - 2x)
    ```

  - 곱의 미분법칙과 연쇄 법칙을 동시에 적용한다.
  - 6xy를 미분할 때 곱의 미분법칙에 의해 6y + 6x·dy/dx가 된다.

- 예제 3. 지수 함수가 포함된 경우

    ```
    e^(xy) = x + y

    양변을 x에 대해 미분:
    e^(xy)·(y + x·dy/dx) = 1 + dy/dx

    전개:
    y·e^(xy) + x·e^(xy)·(dy/dx) = 1 + dy/dx

    dy/dx 항을 한쪽으로 모음:
    x·e^(xy)·(dy/dx) - dy/dx = 1 - y·e^(xy)

    dy/dx로 인수분해:
    (x·e^(xy) - 1)·(dy/dx) = 1 - y·e^(xy)

    dy/dx에 대해 정리:
    dy/dx = (1 - y·e^(xy))/(x·e^(xy) - 1)
    ```

- 예제 4. 타원곡선 (Elliptic Curve)

    ```
    y² = x³ + ax + b

    양변을 x에 대해 미분:
    2y·(dy/dx) = 3x² + a

    dy/dx에 대해 정리:
    dy/dx = (3x² + a) / (2y)
    ```

  - 접선의 기울기는 (3x² + a) / (2y)로 표현되며, y = 0인 점에서는 정의되지 않는다.
  - 예시:

    ```
    y² = x³ - 2x + 1

    양변을 x에 대해 미분:
    2y·(dy/dx) = 3x² - 2

    dy/dx = (3x² - 2) / (2y)

    점 (1, 0)에서의 접선 기울기:
    분모가 0이므로 수직 접선 (기울기 무한대)

    점 (2, 3)에서의 접선 기울기:
    dy/dx = (3·2² - 2) / (2·3) = (12 - 2) / 6 = 10/6 = 5/3
    ```

---
참고

-「대학수학」 (박성호, 이재권, 조성희 저, 2013)

- [Implicit differentiation, what's going on here? | Chapter 6, Essence of calculus](https://www.youtube.com/watch?v=qb40J4N1fa4)
- [미적분 - 개념정리, 수악중독](https://www.youtube.com/playlist?list=PLXJ3W1lEGK8ULz2WP-Zd732UivspNwmRr)
- [dy/dx 는 분수일까 아닐까?, 이상엽 Math](https://www.youtube.com/watch?v=K4rw5HqS7Kk)
- [미분법8 음함수의 미분법 주의사항, 하루](https://m.blog.naver.com/at3650/40139104447)
- [미분7 - 합성함수의 미분, 하루](https://m.blog.naver.com/at3650/40138304205)
