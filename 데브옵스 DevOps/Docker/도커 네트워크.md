# 🐳 도커 네트워크

Docker 컨테이너(container)는 격리된 환경에서 돌아가기 때문에 기본적으로 다른 컨테이너와의 통신이 불가능하다. 하지만 여러 개의 컨테이너를 하나의 Docker 네트워크(network)에 연결시키면 서로 통신이 가능해잔다. 다시말해, Docker 네트워크는 컨테이너 간 네트워킹이 가능하도록 도와주는 역할을 한다.

## 네트워크 조회

docker network ls 커맨드를 사용하면 현재 생성되어 있는 Docker 네트워크 목록을 조회할 수 있다.

```bash
$ docker network ls
NETWORK ID          NAME                DRIVER              SCOPE
143496b94e57        bridge              bridge              local
311d6534f79f        host                host                local
aa89f58200a6        none                null                local
```

## 네트워크 종류

Docker는 목적에 따라 다양한 종류의 네트워크 드라이버를 지원한다. 그 종류에 대해 알아보자. 

### none

noen 네트워크에서 도커 컨테이너는 서로 독립되어서, 정보를 전혀 주고받을 수 없다. 호스트 외부로 접근하는 경우에도 네트워크가 연결되지 않는다.

### host

host 네트워크에서는 host와 컨테이너의 네트워크의 구분 없이 서로 면결된다. 만약 컨테이너가 80 포트로 listening하고 있다면 호스트의 80 포트로 들어오는 요청을 같이 받을 수 있다. 추가적인 포트 매핑이 필요 없다.

다른 컨테이너의 80 포트를 열어놓으면, 충돌되어 생성되지 않는다.

### bridge

bridge 네트워크는 컨테이너 사이에 임의의 네트워크가 구성되어있는 형태이다. 각 컨테이너끼리는 기본적으로 `127.0.0.1` (localhost)를 통해 각각 네트워킹할 수 있다.

내부에서 동작하는 brigge라는 네트워크가 어떻게 생성되는지 자세히 알아보자.

```bash
$ docker network ls
NETWORK ID          NAME                DRIVER              SCOPE
143496b94e57        bridge              bridge              local
311d6534f79f        host                host                local
aa89f58200a6        none                null                local
```

아까 예시로 보았던 `docker network ls` 결과의 bridge가 바로 이 bridge를 의미하는 것이다. 

호스트에서는 이 네트워크를 `docker0`라는 이름으로 생성하고, `172.17.0.1` IP를 할당한다.