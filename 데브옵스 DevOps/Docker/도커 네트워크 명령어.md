# ğŸ³ docker network

Docker ì»¨í…Œì´ë„ˆ(container)ëŠ” ê²©ë¦¬ëœ í™˜ê²½ì—ì„œ ëŒì•„ê°€ê¸° ë•Œë¬¸ì— ê¸°ë³¸ì ìœ¼ë¡œ ë‹¤ë¥¸ ì»¨í…Œì´ë„ˆì™€ì˜ í†µì‹ ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤. í•˜ì§€ë§Œ ì—¬ëŸ¬ ê°œì˜ ì»¨í…Œì´ë„ˆë¥¼ í•˜ë‚˜ì˜ Docker ë„¤íŠ¸ì›Œí¬(network)ì— ì—°ê²°ì‹œí‚¤ë©´ ì„œë¡œ í†µì‹ ì´ ê°€ëŠ¥í•´ì§„ë‹¤. ì»¨í…Œì´ë„ˆ ê°„ ë„¤íŠ¸ì›Œí‚¹ì´ ê°€ëŠ¥í•˜ë„ë¡ ë„ì™€ì£¼ëŠ” Docker ë„¤íŠ¸ì›Œí¬ì— ëŒ€í•´ ì•Œì•„ë³´ë„ë¡ í•˜ì.

## ë„¤íŠ¸ì›Œí¬ ì¡°íšŒ

`docker network ls` ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ë©´ í˜„ì¬ ìƒì„±ë˜ì–´ ìˆëŠ” Docker ë„¤íŠ¸ì›Œí¬ ëª©ë¡ì„ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.

```bash
$ docker network ls
NETWORK ID          NAME                DRIVER              SCOPE
143496b94e57        bridge              bridge              local
311d6534f79f        host                host                local
aa89f58200a6        none                null                local
```

bridge, host, noneì€ Docker ë°ëª¬(daemon)ì´ ì‹¤í–‰ë˜ë©´ì„œ ë””í´íŠ¸ë¡œ ìƒì„±ë˜ëŠ” ë„¤íŠ¸ì›Œí¬ì´ë‹¤. ëŒ€ë¶€ë¶„ì˜ ê²½ìš°ì—ëŠ” ì´ëŸ¬í•œ ë””í´íŠ¸ ë„¤íŠ¸ì›Œí¬ë¥¼ ì´ìš©í•˜ëŠ” ê²ƒ ë³´ë‹¤ëŠ” ì‚¬ìš©ìê°€ ì§ì ‘ ë„¤íŠ¸ì›Œí¬ë¥¼ ìƒì„±í•´ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ê¶Œì¥ëœë‹¤.

networkì˜ driverëŠ” í•´ë‹¹ ë„¤íŠ¸ì›Œí¬ì˜ ì‘ë™ ë°©ì‹ì— ëŒ€í•œ ê²ƒìœ¼ë¡œ, [ì—¬ê¸°](../Docker/ë„ì»¤â€…ë„¤íŠ¸ì›Œí¬.md)ì—ì„œ ë” ìì„¸í•œ ë‚´ìš©ì„ ë³¼ ìˆ˜ ìˆë‹¤. 

## ë„¤íŠ¸ì›Œí¬ ìƒì„±

ë¨¼ì € docker network create ì»¤ë§¨ë“œë¥¼ ì‚¬ìš©í•´ì„œ ìƒˆë¡œìš´ Docker ë„¤íŠ¸ì›Œí¬ë¥¼ ìƒì„±í•´ë³´ì.

```bash
$ docker network create our-net
x6wfa4e9a5ec85abcb484662sdc30a3sdc76df21svsdqw76d52fac39faqw8412zz68
$ docker network ls
NETWORK ID          NAME                DRIVER              SCOPE
143496b94e57        bridge              bridge              local
311d6534f79f        host                host                local
aa89f58200a6        none                null                local
e6dfe4a9a5ec        our-net             bridge              local
```

ì¶”ê°€ëœ ë„¤íŠ¸ì›Œí¬ëŠ” docker network ls ì»¤ë§¨ë“œë¡œ í™•ì¸í•  ìˆ˜ ìˆë‹¤. -d ì˜µì…˜ì„ ì‚¬ìš©í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— ê¸°ë³¸ê°’ì¸ bridge ë„¤íŠ¸ì›Œí¬ë¡œ ìƒì„±ëœ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.

## ìƒì„¸ ì •ë³´ í™•ì¸

`docker network inspect`ë¡œ ë„¤íŠ¸ì›Œí¬ì˜ ìƒì„¸ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

```json
$ docker network inspect our-net
[
    {
        "Name": "our-net",
        "Id": "e6dfe4a9a5ec85abcb484662c30a3a0fc76df217dde76d52fac39fae8412ca68",
        "Created": "2020-04-26T19:23:04.563643516Z",
        "Scope": "local",
        "Driver": "bridge",
        "EnableIPv6": false,
        "IPAM": {
            "Driver": "default",
            "Options": {},
            "Config": [
                {
                    "Subnet": "172.19.0.0/16",
                    "Gateway": "172.19.0.1"
                }
            ]
        },
        "Internal": false,
        "Attachable": false,
        "Ingress": false,
        "ConfigFrom": {
            "Network": ""
        },
        "ConfigOnly": false,
        "Containers": {},
        "Options": {},
        "Labels": {}
    }
]
```

ì•„ì§ ì»¨í…Œì´ë„ˆì— ì—°ê²°í•˜ì§€ ì•Šì•˜ê¸° ë–„ë¬¸ì— `Containers` í•­ëª©ì´ ë¹„ì–´ìˆë‹¤.

## ë„¤íŠ¸ì›Œí¬ì— ì»¨í…Œì´ë„ˆ ì—°ê²°

```bash
docker network connect [OPTIONS] NETWORK CONTAINER
# docker network connect our-net one
```

our-net ë„¤íŠ¸ì›Œí¬ì˜ ìƒì„¸ ì •ë³´ë¥¼ í™•ì¸í•´ë³´ë©´ oneì´ë¼ëŠ” ì»¨í…Œì´ë„ˆê°€ ì—°ê²°ë˜ì–´ìˆëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.

```json
$ docker network inspect bridge
    ...
        "Containers": {
            "660bafdce2996378cde070dfd894731bb90745e46d2ab10d6504c0cc9f4bdea9": {
                "Name": "one",
                "EndpointID": "40b4bbd8385debf86eef2fc2136315e1a82fa1ef72877bfae25477d6e8e46726",
                "MacAddress": "02:42:ac:11:00:04",
                "IPv4Address": "172.17.0.4/16",
                "IPv6Address": ""
            },
        },
    ...
```

ìƒì„±í•˜ëŠ” ë™ì‹œì— ì—°ê²°í•˜ê³ ì‹¶ë‹¤ë©´ ì´ë ‡ê²Œ í•  ìˆ˜ ìˆë‹¤.

```
$ docker run -itd --name two --network our-net busybox
0e7fe8a59f9d3f8bd545d3e557ffd34100a09b8ebe92ae5a375f37a5d072873d
```
