# ğŸ—º ì±…ì„ ì—°ì‡„(Chain of Responsibility) íŒ¨í„´

ì±…ì„ ì—°ì‡„ íŒ¨í„´ì€ ê°ì²´ë¥¼ ì—°ê²°ë¦¬ìŠ¤íŠ¸ì™€ ê°™ì€ ì‚¬ìŠ¬ ë°©ì‹ìœ¼ë¡œ ì—°ê²°í•œ í›„ì— ìš”ì²­ì„ ìˆ˜í–‰í•˜ì§€ ëª»í•˜ëŠ” ê°ì²´ì¸ ê²½ìš° ì±…ì„ì„ ë‹¤ìŒ ê°ì²´ì— ë„˜ê¸°ë©° ì±…ì„ì„ ë„˜ê¸°ëŠ” í˜•íƒœì˜ íŒ¨í„´ì„ ë§í•œë‹¤. ê°ê°ì˜ ì²´ì¸ì€ ìì‹ ì´ í•´ì•¼í•˜ëŠ” ì¼ë§Œ ë‹´ë‹¹í•˜ê¸° ë•Œë¬¸ì— ì§‘í•© ë‚´ì˜ ì²˜ë¦¬ ìˆœì„œë¥¼ ë³€ê²½í•˜ê±°ë‚˜ ì²˜ë¦¬ê°ì²´ë¥¼ ìœ ì—°í•˜ê²Œ ì¶”ê°€ ë˜ëŠ” ì‚­ì œí•  ìˆ˜ ìˆë‹¤.

<img src="https://miro.medium.com/max/1082/0*zucuIbxjnYmAt9XQ">

---

## ì˜ˆì‹œ ì½”ë“œ

```java
@AllArgsConstructor
public class RequestHandler {
    private RequestHandler nextHandler;

    public void handle(Request request) {

        if (nextHandler != null){
            nextHandler.handle(request);
        }
    }
}
```

ìš”ì²­ì„ ì²˜ë¦¬í•  RequestHandlerì˜ ê¸°ë³¸ í´ë˜ìŠ¤ì´ë‹¤. ë‹¤ë¥¸ RequeestHandlerë¥¼ ì£¼ì…ë°›ì•„ ìƒì„±ë˜ê³ , handle ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ (nextHandlerê°€ nullì´ ì•„ë‹Œê²½ìš°) ì£¼ì…ë°›ì€ í•¸ë“¤ëŸ¬ì˜ handle ë©”ì„œë“œë¥¼ ë¶€ë¥¸ë‹¤. ì´ í´ë˜ìŠ¤ ìì²´ê°€ ì–´ë–¤ ì˜ë¯¸ë¥¼ ë‹´ê³ ìˆëŠ”ê±´ ì•„ë‹ˆê³ , ì–˜ëŠ” ì´ í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì•„ì„œ handle ë©”ì„œë“œì— ë¡œì§ì„ ë‹´ì•„ ì‹¤í–‰í•œ í›„ì— ë‹¤ìŒ ì²´ì¸ìœ¼ë¡œ ë„˜ì–´ê°€ê²Œ í•˜ê¸° ìœ„í•œ ì‘ìš© Handlerë“¤ì˜ ê¸°ë³¸ì´ ë˜ëŠ” í´ë˜ìŠ¤ê°€ ëœë‹¤.

```java
@NoArgsConstructor
public class Request { }
```

```java
public class AuthRequestHandler extends RequestHandler {

    public AuthRequestHandler(RequestHandler nextHandler) {
        super(nextHandler);
    }

    @Override
    public void handle(Request request) {
        //ëŒ€ì¶© ìœ ì € ì¸ì¦í•˜ëŠ” ì½”ë“œ
        System.out.println("AuthRequestHandler.handle");
        super.handle(request);
    }
}

public class LoggingRequestHandler extends RequestHandler {

    public  LoggingRequestHandler(RequestHandler nextHandler) {
        super(nextHandler);
    }

    @Override
    public void handle(Request request) {
        //ëŒ€ì¶© ìš”ì²­ì„ ë¡œê¹…í•˜ëŠ” ì½”ë“œ
        System.out.println("LoggingRequestHandler.handle");
        super.handle(request);
    }
}

public class DoWorkRequestHandler extends RequestHandler{

    public DoWorkRequestHandler(RequestHandler nextHandler) {
        super(nextHandler);
    }

    @Override
    public void handle(Request request) {
        //ëŒ€ì¶© requestë¥¼ ì²˜ë¦¬í•˜ëŠ” ì½”ë“œ
        System.out.println("DoWorkRequestHandler.handle");
        super.handle(request);
    }
}
```

ì‹¤ì œ ì²´ì¸ì„ ì‹¤í–‰í•˜ëŠ” íŒŒíŠ¸ë¥¼ ë§¡ì•„ì¤„ í´ë˜ìŠ¤ë“¤ì´ë‹¤. RequestHandlerë¥¼ ìƒì†ë°›ì•„ handleì— ë­”ê°€ë¥¼ ìˆ˜í–‰í•˜ëŠ” ë¶€ë¶„ì„ ì¶”ê°€í–ˆë‹¤. ì‹¤ì œë¡œ ëŒì•„ê°€ëŠ” ì½”ë“œë¥¼ ì ì§„ ì•Šì•˜ê³ , ì£¼ì„ìœ¼ë¡œ ëŒ€ì²´í–ˆë‹¤. ê° í´ë˜ìŠ¤ë“¤ì€ ìì‹ ì˜ ì±…ì„ ë‚´ì—ì„œ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ë¶€ë¶„ì„ ì²˜ë¦¬í•œ ë‹¤ìŒì— ë‹¤ìŒ Handlerì— Requestë¥¼ ë‹¤ì‹œ ë„˜ê¸´ë‹¤. Handlerë¼ë¦¬ëŠ” ì„œë¡œì˜ ì½”ë“œì— ì „í˜€ ê°„ì„­í•˜ì§€ ì•Šê³ , ì•ì—ì„œ ë¬´ìŠ¨ ì¼ì´ ìˆë”ë¼ë„ ìì‹ ì˜ ì±…ì„ì„ ë‹¤í•˜ëŠ” ê²ƒì—ë§Œ ê´€ì‹¬ìˆë‹¤.

```java
public class App {

    public static void main(String[] args) {
        RequestHandler chain = new AuthRequestHandler(new LoggingRequestHandler(new AuthRequestHandler(null)));
        Client client = new Client(chain);
        client.doWork();
    }
}

@RequiredArgsConstructor
public class Client {

    private final RequestHandler requestHandler;

    public void doWork() {
        Request request = new Request();
        requestHandler.handle(request);
    }
}
```

chainì„ ìƒì„±í•˜ëŠ” ë¶€ë¶„ì„ ì œì™¸í•˜ë©´ ë‚˜ë¨¸ì§€ì—ì„  requestHandlerì˜ ë‚´ìš©ì— ê°„ì„­í•˜ì§€ ì•ŠëŠ”ë‹¤. chainì˜ êµ¬ì¡°ê°€ ë°”ë€Œê±°ë‚˜, handlerê°€ ì¶”ê°€ëœë‹¤ê³  í•´ë„ ì½”ë“œë¥¼ í¬ê²Œ ë³€ê²½í•  í•„ìš”ê°€ ì—†ë‹¤.

ì±…ì„ ì—°ì‡„ íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ ê°ì²´ì§€í–¥ ì›ì¹™ ì¤‘ ë‹¨ì¼ ì±…ì„ ì›ì¹™(Single Responsibility Principle)ì„ ì˜ ì§€í‚¬ ìˆ˜ ìˆë‹¤.

ì´ <a href="https://github.com/rlaisqls/GoF-DesignPatterns/tree/master/src/main/java/com/study/gof/designpattrens/_03_BehavioralPattern/chainOfResponsibility">ë§í¬</a>ë¡œ ê°€ë©´ ì½”ë“œë¥¼ ë³¼ ìˆ˜ ìˆë‹¤.