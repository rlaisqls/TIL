# ğŸ—º ì–´ëŒ‘í„°(Adapter) íŒ¨í„´
ì–´ëŒ‘í„° íŒ¨í„´ì€ í´ë˜ìŠ¤ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©ìê°€ ê¸°ëŒ€í•˜ëŠ” ë‹¤ë¥¸ ì¸í„°í˜ì´ìŠ¤ë¡œ ë³€í™˜í•˜ëŠ” íŒ¨í„´ì´ë‹¤. ê¸°ì¡´ ì½”ë“œë¥¼ ë³€ê²½í•˜ì§€ ì•Šê³  ì›í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ì²´ë¥¼ ë§Œë“¤ì–´ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì— ê¸°ì¡´ ì½”ë“œê°€ í•˜ë˜ ì¼ê³¼ íŠ¹ì • ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ì²´ë¡œ ë³€í™˜í•˜ëŠ” ì‘ì—…ì„ ê°ê¸° ë‹¤ë¥¸ í´ë˜ìŠ¤ë¡œ  ë¶„ë¦¬í•˜ì—¬ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì´ ìˆë‹¤.

<img src="https://t1.daumcdn.net/cfile/tistory/99B1863B5AFA710332">

---

## ì˜ˆì‹œ ì½”ë“œ

```java
public interface UserDetails {
    String getUsername();
    String getPassword();
}

public interface UserDetailsService {
    UserDetails loadUser(String username);
}

public class LoginHandler {

    private final UserDetailsService userDetailsService;

    public LoginHandler(UserDetailsService userDetailsService){
        this.userDetailsService = userDetailsService;
    }

    public String login(String username, String password){
        UserDetails userDetails = userDetailsService.loadUser(username);

        if(userDetails.getPassword().equals(password)){
            return userDetails.getUsername();
        } else {
            throw new RuntimeException();
        }
    }
}
```

UserDetails, UserDetailsService, LoginHandlerëŠ” security íŒ¨í‚¤ì§€ì—ì„œ ì œê³µí•˜ëŠ” ì½”ë“œë¡œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì½”ë“œë¼ê³  ìƒê°í•´ë„ ëœë‹¤. ì‹¤ìŠµì„ ìœ„í•´ ê°„ë‹¨íˆ êµ¬í˜„í•œ ì½”ë“œì´ë‹¤.

---

```java
@Data
public class Account {

    private String name;
    private String password;
    private String email;
}


public class AccountService {

    public Account findAccountByUsername(String username) {
        Account account = new Account();
        account.setName(username);
        account.setPassword(username);
        account.setEmail(username);

        return account;
    }

    public Account createNewAccount(String username){
        //ëŒ€ì¶© ìƒˆ ìœ ì €ë¥¼ ìƒì„±í•˜ëŠ” ë¡œì§
        return new Account();
    }
}

```

ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬í˜„í•˜ëŠ” ë° í•„ìš”í•œ Accountì™€ AccountService í´ë˜ìŠ¤ì´ë‹¤. ë‚˜ëŠ” ì´ ë‘ í´ë˜ìŠ¤ì™€ security íŒ¨í‚¤ì§€ì˜ ê¸°ëŠ¥ì„ ì—®ì–´ì„œ LoginHandlerì˜ login ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤.

---

```java
@AllArgsConstructor
public class AccountUserDetails implements UserDetails {

    private Account account;

    @Override
    public String getUsername() {
        return account.getName();
    }

    @Override
    public String getPassword() {
        return account.getPassword();
    }
}

@AllArgsConstructor
public class AccountUserDetailsService implements UserDetailsService {

    private AccountService accountService;

    @Override
    public UserDetails loadUser(String username) {

        Account account = accountService.findAccountByUsername(username);

        return new AccountUserDetails(account);
    }
}
```

Account, AccountServiceì™€ ì—°ê²°í•˜ê³  ì‹¶ì€ security íŒ¨í‚¤ì§€ì˜ ë‘ ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒì†ë°›ì•„ ì–´ëŒ‘í„°ì˜ ì—­í• ì„ í•˜ëŠ” ìƒˆ í´ë˜ìŠ¤ë¥¼ ì •ì˜í–ˆë‹¤.  

---

```java
public class LoginHandler {
    
    private final UserDetailsService userDetailsService;

    public LoginHandler(UserDetailsService userDetailsService){
        this.userDetailsService = userDetailsService;
    }
    ...
}
```

LoginHandlerì˜ UserDetailsServiceìœ„ì¹˜ì— AccountUserDetailsServiceë¥¼ ì£¼ì…í•˜ë©´ ìš°ë¦¬ê°€ êµ¬í˜„í•œ Accountë¥¼ í†µí•´ loginë©”ì„œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

ì´ <a href="https://github.com/rlaisqls/GoF-DesignPatterns/tree/master/src/main/java/com/study/gof/designpattrens/_02_StructuralPatterns/adapter">ë§í¬</a>ë¡œ ê°€ë©´ ì½”ë“œë¥¼ ë³¼ ìˆ˜ ìˆë‹¤.

ì¶œì²˜:<br>
https://www.inflearn.com/course/%EB%94%94%EC%9E%90%EC%9D%B8-%ED%8C%A8%ED%84%B4